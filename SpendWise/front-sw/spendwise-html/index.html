<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../style-sw/style.css" type="text/css">
  <title>Simulateur de Budget - Accueil</title>
</head>
<body>
  <header>
    <h1>Simulateur de Budget Personnel</h1>
    <nav>
      <a href="index.html" class="active">Accueil</a>
      <a href="add-transac.html">Ajouter une transaction</a>
      <a href="transac.html">Voir les transactions</a>
      <a href="visualisation.html">Visualisation</a>
    </nav>
  </header>

  <main>
    <section>
      <h2>Solde actuel : <span id="solde">0 €</span></h2>
    </section>

    <section>
      <h3>Résumé des transactions</h3>
      <ul id="resume">
        <li>Revenu : <span id="revenue-total">0 €</span></li>
        <li>Dépense : <span id="depense-total">0 €</span></li>
      </ul>
    </section>
  </main>

  <footer>
    <p>© 2024 Simulateur de Budget Personnel. Tous droits réservés.</p>
  </footer>

  <script>
    // script.js

    // Fonction pour mettre à jour le solde et le résumé
    function updateBalanceAndSummary() {
        // Récupérer les transactions depuis le local storage
        const transactions = JSON.parse(localStorage.getItem('transactions')) || [];

        let revenueTotal = 0;
        let depenseTotal = 0;

        // Calculer les totaux des revenus et dépenses
        transactions.forEach(transaction => {
            if (transaction.type === 'revenue') {
                revenueTotal += transaction.montant;
            } else if (transaction.type === 'depense') {
                depenseTotal += transaction.montant;
            }
        });

        // Calculer le solde
        const solde = revenueTotal - depenseTotal;

        // Mettre à jour le DOM
        document.getElementById('solde').textContent = `${solde} €`;
        document.getElementById('revenue-total').textContent = `${revenueTotal} €`;
        document.getElementById('depense-total').textContent = `${depenseTotal} €`;
    }

    // Appeler la fonction lors du chargement de la page
    updateBalanceAndSummary();

  </script>
</body>
</html>
